/*
 paging 처리를 재사용성을 높이게 하는 
 */
package common.board;

import java.util.List;

import javax.servlet.http.HttpServletRequest;



public class Pager {
	int totalRecord;//총 레코드수 
	int pageSize=10;//페이지당 보여질 레코드수 
	int totalPage=(int)Math.ceil((float)totalRecord/pageSize);
	int blockSize=10;//블럭당 보여질 페이지수 
	int currentPage=1;//현재페이지 
	int firstPage=currentPage-(currentPage-1)%blockSize;
	int lastPage=firstPage+(blockSize-1);
	int curPos=(currentPage-1)*pageSize;//페이지당 List당내에서 시작 index
	int num=totalRecord-curPos;//페이지당 시작번호 

	//선언된 변수 초기화 
	public void init(HttpServletRequest request, List list) {
		totalRecord = list.size();
		totalPage=(int)Math.ceil((float)totalRecord/pageSize);
		
		//페이지를 선택한 경우엔, 그 선택된 페이지로 대체 
		if(request.getParameter("currentPage")!=null) {
			currentPage=Integer.parseInt(request.getParameter("currentPage"));
		}
		firstPage = currentPage-(currentPage-1)%blockSize;
		lastPage=firstPage+(blockSize-1);
	}
}
